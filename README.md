# TestTaskDNS

Описание серверной части приложения:
  Серверная часть состоит из четырех компонентов: контроллера, модуля-репозитория, модуля для формирования excel-таблицы и базы данных.
  Контроллер представляет собой REST-API к клиентской части. Содержит в себе логику обработки следующих событий: добавление/изменение/удаление записи и запрос на экземпряр Excel-таблицы. Для дальнейшей передачи запроса до базы данных используется экземпляр репозитория. 
  Репозиторий представляет собой класс, в котором релизованы необходимые для взаимодействия с базой данных методы. Применяемый фреймворк- ADO.NET.
  Модуль для формирования excel-таблицы представляет собой класс, содержащий единственный метод, который создает лист excel-таблицы, совершает запрос к базе данных и заполняет таблицу записями, после чего возвращает ее в виде массива байт.
  База данных представляет собой реляционную базу данных, содержащую следующие поля: Id, ФИО сотрудника, занимаемую должность, дату приема на работу, отдел, Id непосредственного руководителя и флаг, определяющий, была ли удалена запись или нет. В базе данных реализованы необходимые хранимые процедуры, которые позволяют получить все неудаленные записи, добавить/изменить/удалить запись. Язык написания хрнимых процедур и описания базы данных- SQL.
  Серверная часть написана на языке С#. В ходе разработки использовался фреймворк ASP.NET core и реализован паттерн MVC. Взаимодействие с базой данных реализовано посредством ADO.NET и хранимых процедур в базе данных. Осуществлено логирование при помощи NLog, создание Excel-таблицы сотрудников при помощи EEPLUS, База данных MSSQL.

Описание клиентской части приложения:
Клиентская часть представляет собой 3 класса: Person, Display, Repository и модуль Main, который связывает эти три класса и является основным.
  Person- основная информационная единица клиентской части, не имеет методов, имеет поля, повоторяющие аналогичные в базе данных.
  Display- класс, в котором находятся методы отрисовки и обработки изображений, таблиц, модальных окон. В данном классе в том числе находятся методы сортировки таблицы и выделения элементов.
  Repository- класс, который содержит в себе кэш таблицы из базы данных, методы для работы с ним, а также методы, обеспечивающие взаимодействие клиентской и серверной части. Такие события, как сортировки и вывод иерархии руководства происходят на клиентской части без запроса к серверу, все изменения таблицы, которые возникают в ходе работы приложения, такие как добавление/изменение/удаление записей дублируются в кэше и не требуют повторного запроса к серверу для получения нового экземпляра таблицы. Запросы к серверу реализованы посредством fetch-запросов.
  Main- основной модуль, в котором находятся все основные обработчики событий и логика взаимодействия трех вышеописаных классов.
Язык написания клиентской части TypeScript без использования JQuery, верстка осуществлялась при помощи HTML и CSS, сторонние библиотеки и фреймворки не использовались.


Инструкция по развертыванию приложения:
1) Скачать репозиторий из GitHub.
2) Из папки SQL scripts запустить скрипт CreatingDataBase.sql, этот скрипт создает базу данных и заполняет ее записями
3) Из этой же папки запустить все остальные скрипты, в них находятся хранимые процедуры для базы данных.
